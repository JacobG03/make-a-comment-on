(this["webpackJsonpmake-a-comment-on"]=this["webpackJsonpmake-a-comment-on"]||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(12),i=n.n(a),r=(n(20),n(9)),o=(n(21),n(11)),u=n(13),d=n(5),j=n(2),m=n.n(j),l=n(4);function b(){return b=Object(l.a)(m.a.mark((function e(){var t,n,c,s=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",n=s.length>1&&void 0!==s[1]?s[1]:{},e.next=4,fetch(document.location.hostname+t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(n)});case 4:return c=e.sent,e.abrupt("return",c.json());case 6:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}var h=function(){return b.apply(this,arguments)},O=n(1),v=Object(c.createContext)(),f=function(e){var t=e.children,n=Object(c.useState)(null),s=Object(d.a)(n,2),a=s[0],i=s[1],r=Object(c.useState)(null),o=Object(d.a)(r,2),u=o[0],j=o[1];Object(c.useEffect)((function(){a&&h("api/video",{url:a}).then((function(e){e.success&&j(e.data)}))}),[a]);var m=Object(c.useCallback)((function(e){i(e)}),[]),l=Object(c.useCallback)((function(e){null!==u&&h("api/comment",{videoID:u.videoID,comment:e}).then((function(e){e.success&&h("api/video",{url:a}).then((function(e){e.success&&j(e.data)}))}))}),[u,a]),b=Object(c.useMemo)((function(){return{URL:a,changeURL:m,videoData:u,addComment:l}}),[a,m,u,l]);return Object(O.jsx)(v.Provider,{value:b,children:t})};function x(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}function p(e){var t=e.videoContext.videoData,n=e.videoContext.addComment;return null===t?null:Object(O.jsxs)("div",{className:"comments-section",children:[Object(O.jsx)(N,{addComment:n}),Object(O.jsx)(g,{comments:t.comments})]})}function N(e){var t=Object(o.a)(),n=t.register,c=t.handleSubmit;return Object(O.jsxs)("form",{className:"form2",onSubmit:c((function(t){return e.addComment(t)})),children:[Object(O.jsx)("span",{children:"Username:"}),Object(O.jsx)("input",Object(r.a)({className:"input-field"},n("username",{required:!0,maxLength:64}))),Object(O.jsx)("span",{children:"Comment:"}),Object(O.jsx)("textarea",Object(r.a)({className:"input-area"},n("body",{required:!0,maxLength:1e4}))),Object(O.jsx)("input",{type:"submit",className:"submit-btn"})]})}function g(e){var t=e.comments;return t.sort((function(e,t){return t.id-e.id})),Object(O.jsx)("div",{className:"comments",children:t.map((function(e){return Object(O.jsx)(w,{comment:e},e.id)}))})}function w(e){var t=e.comment;return Object(O.jsxs)("div",{className:"comment",children:[Object(O.jsxs)("div",{className:"comment-top",children:[Object(O.jsx)("span",{className:"username",children:t.username}),Object(O.jsx)("span",{children:t.date})]}),Object(O.jsx)("div",{className:"comment-body",children:Object(O.jsx)("span",{children:t.body})})]})}function C(e){var t=Object(o.a)(),n=t.register,c=t.handleSubmit;return Object(O.jsxs)("form",{className:"form1",onSubmit:c((function(t){return e.changeURL(t.link)})),children:[Object(O.jsx)("input",Object(r.a)({className:"input-field"},n("link"))),Object(O.jsx)("input",{type:"submit",className:"submit-btn"})]})}function y(e){var t=null===e.videoData?null:e.videoData.videoID,n={};return n=function(){var e=Object(c.useState)(x()),t=Object(d.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){function e(){s(x())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}().width<520?{width:"320",height:"240"}:{width:"480",height:"320"},Object(O.jsx)("div",{className:"video",children:t?Object(O.jsx)(u.a,{videoId:t,opts:n}):null})}var k=function(){var e=Object(c.useContext)(v);return Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)("h1",{children:"Make a comment on"}),Object(O.jsx)("span",{children:"YouTube videos with blocked comments"})]}),Object(O.jsxs)("div",{className:"content",children:[Object(O.jsxs)("div",{className:"top",children:[Object(O.jsx)(C,{changeURL:e.changeURL}),Object(O.jsx)(y,{videoData:e.videoData})]}),Object(O.jsx)(p,{videoContext:e})]})]})};i.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(f,{children:Object(O.jsx)(k,{})})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.fb72cbe0.chunk.js.map